<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>PWA XO Game</title>
<meta name="theme-color" content="#0f172a" />
<link rel="manifest" href="manifest.json" />
<style>
body{margin:0;font-family:system-ui;background:#0f172a;color:#e5e7eb;display:flex;align-items:center;justify-content:center;min-height:100vh}
.app{width:320px;background:#111827;border-radius:20px;padding:16px;text-align:center}
.board{display:grid;grid-template-columns:repeat(3,1fr);gap:10px;margin:12px 0}
.cell{aspect-ratio:1;background:#020617;border-radius:12px;font-size:2.2rem;display:flex;align-items:center;justify-content:center;cursor:pointer}
.win{background:#166534}
button{width:100%;padding:10px;border:none;border-radius:12px;margin-top:8px}
</style>
</head>
<body>
<div class="app">
<h2>XO Game</h2>
<div id="status">Player X's turn</div>
<div class="board" id="board"></div>
<button onclick="reset()">Restart</button>
</div>
<script>
const boardEl=document.getElementById("board"),statusEl=document.getElementById("status");
let b,p,over;
const w=[[0,1,2],[3,4,5],[6,7,8],[0,3,6],[1,4,7],[2,5,8],[0,4,8],[2,4,6]];
function init(){b=Array(9).fill(null);p='X';over=false;statusEl.textContent="Player X's turn";boardEl.innerHTML='';b.forEach((_,i)=>{const d=document.createElement('div');d.className='cell';d.onclick=()=>play(i,d);boardEl.appendChild(d);});}
function play(i,d){if(b[i]||over)return;b[i]=p;d.textContent=p;const l=w.find(x=>b[x[0]]&&b[x[0]]===b[x[1]]&&b[x[0]]===b[x[2]]);if(l){over=true;statusEl.textContent=`Player ${p} wins`;l.forEach(i=>boardEl.children[i].classList.add('win'));return;}if(b.every(Boolean)){statusEl.textContent='Draw';over=true;return;}p=p==='X'?'O':'X';statusEl.textContent=`Player ${p}'s turn`; }
function reset(){init();}
if('serviceWorker'in navigator){navigator.serviceWorker.register('sw.js');}
init();
</script>
</body>
</html>